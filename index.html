<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Music Room</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <h1>The Music Room</h1>
  <p>Classic sounds, updated vibes</p>
</header>

<main>
  <section>
    <h2>Upcoming Events</h2>
    <ul id="events-list">
      <!-- Events will be populated here by script.js -->
    </ul>
  </section>

  <section>
    <h2>Songs Played</h2>
    <ul id="songs-list">
      <!-- Songs will be populated here by script.js -->
    </ul>
  </section>

  <section>
    <h2>Contact Us</h2>

    <!-- Success Message (optional) -->
    <div id="form-success" style="display: none; padding: 1rem; background-color: #e6ffed; border: 1px solid #a1e3b8; color: #2f703a; border-radius: 4px;">
      âœ… Thank you! Your message has been sent.
    </div>

    <form action="https://formspree.io/f/xnnzjglq" method="POST" id="contact-form">
      <input type="text" name="name" placeholder="Your name" required />
      <input type="email" name="email" placeholder="Your email" required />
      <textarea name="message" rows="5" placeholder="Your message..." required></textarea>
      <button type="submit">Send Message</button>
    </form>
  </section>
</main>

<footer>
  &copy; 2025 The Music Room
</footer>

<script src="script.js"></script>

<script>
  // Optional: show success message after submission without redirect
  const form = document.getElementById("contact-form");
  const successMsg = document.getElementById("form-success");

  form?.addEventListener("submit", function (e) {
    e.preventDefault();

    const data = new FormData(form);
    const xhr = new XMLHttpRequest();

    xhr.open(form.method, form.action);
    xhr.setRequestHeader("Accept", "application/json");
    xhr.onload = function () {
      if (xhr.status === 200) {
        form.reset();
        successMsg.style.display = "block";
      } else {
        alert("Oops! Something went wrong. Please try again.");
      }
    };
    xhr.send(data);
  });
</script>

</body>
</html>
