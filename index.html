<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Detroit Old Time Jam</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <h1>Detroit Old Time Jam</h1>
  <p>Westside Detroit • Est. 2024</p>
</header>

<main>
<section>
  <h2>About the Jam</h2>
  <p>
We welcome players of all levels to join us for old time tunes on unamplified fiddles, banjos, guitars, basses—or anything you think sounds good. Most of our tunes are in G, A, C, or D, so bring a capo if you need one.

We’ll often play through tunes slowly a few times to help everyone get the hang of it—no pressure, just fun.

It's a potluck, so feel free to bring food or drinks to share (but it's totally optional).

The house is wheelchair accessible, with a ramp and an accessible bathroom available.

We’re all about keeping it friendly, safe, and welcoming.  </p>
</section>
  
  <section>
    <h2>Upcoming Events</h2>
    <ul id="events-list">
      <!-- Events will be populated here by script.js -->
    </ul>
  </section>

  <section>
    <h2>Last Session's Songs</h2>
    <ul id="songs-list">
      <!-- Songs will be populated here by script.js -->
    </ul>
  </section>

  <section>
    <h2>Contact Us for Location or Questions</h2>

    <!-- Success Message (optional) -->
    <div id="form-success" style="display: none; padding: 1rem; background-color: #e6ffed; border: 1px solid #a1e3b8; color: #2f703a; border-radius: 4px;">
      ✅ Thank you! Your message has been sent.
    </div>

    <form action="https://formspree.io/f/xnnzjglq" method="POST" id="contact-form">
      <input type="text" name="name" placeholder="Your name" required />
      <input type="email" name="email" placeholder="Your email" required />
      <textarea name="message" rows="5" placeholder="Your message..." required></textarea>
      <button type="submit">Send Message</button>
    </form>
  </section>
</main>

<footer>
  2024 DFT-DTJ
</footer>

<script src="script.js"></script>

<script>
  // Optional: show success message after submission without redirect
  const form = document.getElementById("contact-form");
  const successMsg = document.getElementById("form-success");

  form?.addEventListener("submit", function (e) {
    e.preventDefault();

    const data = new FormData(form);
    const xhr = new XMLHttpRequest();

    xhr.open(form.method, form.action);
    xhr.setRequestHeader("Accept", "application/json");
    xhr.onload = function () {
      if (xhr.status === 200) {
        form.reset();
        successMsg.style.display = "block";
      } else {
        alert("Oops! Think you broke a string! Please try again.");
      }
    };
    xhr.send(data);
  });
</script>

</body>
</html>
